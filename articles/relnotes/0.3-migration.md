---
title: Guía de revisión y migración del lenguaje QDK 0,3
author: beheim
uid: microsoft.quantum.relnotes.migration-0-3
ms.author: bettina.heim@microsoft.com
ms.date: 10/29/2018
ms.topic: article
ms.openlocfilehash: 041de6484d95aa89394309813ca4b1dd09072cdf
ms.sourcegitcommit: f8d6d32d16c3e758046337fb4b16a8c42fb04c39
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/29/2020
ms.locfileid: "76820851"
---
# <a name="qdk-03-language-release-notes-and-migration-guide"></a><span data-ttu-id="d395c-102">Notas de la versión de idioma y guía de migración de QDK 0,3</span><span class="sxs-lookup"><span data-stu-id="d395c-102">QDK 0.3 language release notes and migration guide</span></span>

<span data-ttu-id="d395c-103">Nos complace presentar la actualización más reciente del kit de desarrollo de Quantum.</span><span class="sxs-lookup"><span data-stu-id="d395c-103">We are excited to introduce the newest update to the Quantum Development Kit.</span></span>  <span data-ttu-id="d395c-104">En esta página se proporciona información general sobre las nuevas características del lenguaje Q # y se describe cómo [migrar](#Migration) programas q # existentes a la nueva sintaxis.</span><span class="sxs-lookup"><span data-stu-id="d395c-104">This page gives an overview of the new Q# language features and describes how to [migrate](#Migration) existing Q# programs to the new syntax.</span></span>  <span data-ttu-id="d395c-105">Consulte la documentación completa para obtener una descripción completa [del lenguaje de](xref:microsoft.quantum.language.intro)preguntas y respuestas.</span><span class="sxs-lookup"><span data-stu-id="d395c-105">See our complete documentation for the full description of the Q# language [here](xref:microsoft.quantum.language.intro).</span></span>


## <a name="whats-new"></a><span data-ttu-id="d395c-106">Novedades</span><span class="sxs-lookup"><span data-stu-id="d395c-106">What's New</span></span> 

<span data-ttu-id="d395c-107">La actualización 0,3 incluye una serie de nuevas características de lenguaje y editor.</span><span class="sxs-lookup"><span data-stu-id="d395c-107">The 0.3 update comes with a range of new language and editor features.</span></span>

### <a name="overview-of-features"></a><span data-ttu-id="d395c-108">Información general sobre las características</span><span class="sxs-lookup"><span data-stu-id="d395c-108">Overview of Features</span></span>

- <span data-ttu-id="d395c-109">Integración de herramientas de desarrollo mejorada para Visual Studio y Visual Studio Code, entre las que se incluyen:</span><span class="sxs-lookup"><span data-stu-id="d395c-109">Enhanced development tool integration for Visual Studio and Visual Studio Code, including:</span></span>
    - <span data-ttu-id="d395c-110">Compilación en directo y comentarios sobre la escritura (*también conocido* como</span><span class="sxs-lookup"><span data-stu-id="d395c-110">Live compilation and feedback on typing (*a.k.a.*</span></span> <span data-ttu-id="d395c-111">subrayado ondulado).</span><span class="sxs-lookup"><span data-stu-id="d395c-111">squiggly underlining).</span></span>
    - <span data-ttu-id="d395c-112">Información de desplazamiento, incluidos resúmenes de documentación y firmas de tipo.</span><span class="sxs-lookup"><span data-stu-id="d395c-112">Hover information including documentation summaries and type signatures.</span></span>
    - <span data-ttu-id="d395c-113">Compatibilidad con ir a definición.</span><span class="sxs-lookup"><span data-stu-id="d395c-113">Support for go to definition.</span></span>
    - <span data-ttu-id="d395c-114">Navegación sencilla a las declaraciones de espacio de nombres, operación, función y tipo.</span><span class="sxs-lookup"><span data-stu-id="d395c-114">Easy navigation to namespace, operation, function, and type declarations.</span></span>
    - <span data-ttu-id="d395c-115">Mensajes de diagnóstico mejorados.</span><span class="sxs-lookup"><span data-stu-id="d395c-115">Improved diagnostic messages.</span></span>
- <span data-ttu-id="d395c-116">Mejoras en el lenguaje</span><span class="sxs-lookup"><span data-stu-id="d395c-116">Language improvements</span></span>
    - <span data-ttu-id="d395c-117">Inicializaciones de qubit y tupla únicas dentro del uso y préstamos</span><span class="sxs-lookup"><span data-stu-id="d395c-117">Single qubit and tuple initializations within using and borrowing</span></span>
    - <span data-ttu-id="d395c-118">Desconstrucción de tuplas en todas las asignaciones</span><span class="sxs-lookup"><span data-stu-id="d395c-118">Tuple deconstruction on all assignments</span></span>
    - <span data-ttu-id="d395c-119">Iteración sobre matrices</span><span class="sxs-lookup"><span data-stu-id="d395c-119">Iteration over arrays</span></span>
    - <span data-ttu-id="d395c-120">Expresiones condicionales</span><span class="sxs-lookup"><span data-stu-id="d395c-120">Conditional expressions</span></span>
    - <span data-ttu-id="d395c-121">Default: abreviatura de especialización para operaciones</span><span class="sxs-lookup"><span data-stu-id="d395c-121">Default-specialization abbreviation for operations</span></span>
    - <span data-ttu-id="d395c-122">Constructores de tipos generados automáticamente</span><span class="sxs-lookup"><span data-stu-id="d395c-122">Auto-generated type constructors</span></span>
    - <span data-ttu-id="d395c-123">Modificadores de expresión</span><span class="sxs-lookup"><span data-stu-id="d395c-123">Expression modifiers</span></span>


## <a name="editor-features"></a><span data-ttu-id="d395c-124">Características del editor</span><span class="sxs-lookup"><span data-stu-id="d395c-124">Editor Features</span></span>

<span data-ttu-id="d395c-125">El kit de desarrollo de Quantum incluye ahora un servidor de lenguaje para preguntas y respuestas de cliente para Visual Studio y Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d395c-125">The Quantum Development Kit now includes a language server for Q#, as well as the client integrations for Visual Studio and Visual Studio Code.</span></span>
<span data-ttu-id="d395c-126">Esto habilita un nuevo conjunto de características de IntelliSense, además del subrayado ondulado de errores y advertencias para ver los comentarios en directo.</span><span class="sxs-lookup"><span data-stu-id="d395c-126">This enables a new set of IntelliSense features along with live feedback on typing in form of squiggly underlinings of errors and warnings.</span></span>
<span data-ttu-id="d395c-127">En concreto, ir a definición ahora es compatible y la información de desplazamiento se muestra con información de tipos, así como información sobre la documentación de comentarios.</span><span class="sxs-lookup"><span data-stu-id="d395c-127">In particular, go to definition is now supported and hover information is displayed containing type information as well as information from documenting comments.</span></span> <span data-ttu-id="d395c-128">Además, la información de símbolos sobre espacios de nombres, operaciones, funciones y tipos definidos está disponible y permite navegar rápidamente a las declaraciones.</span><span class="sxs-lookup"><span data-stu-id="d395c-128">Additionally, symbol information about defined namespaces, operations, functions, and types is available and allows to quickly navigate to declarations.</span></span>    
<span data-ttu-id="d395c-129">Esta actualización mejora mucho los mensajes de diagnóstico en general, con una navegación sencilla e intervalos precisos para el diagnóstico, así como detalles adicionales en la información que se muestra al mantener el mouse encima.</span><span class="sxs-lookup"><span data-stu-id="d395c-129">This update greatly improves diagnostic messages in general, with easy navigation to and precise ranges for diagnostics and additional details in the displayed hover information.</span></span> 

<span data-ttu-id="d395c-130">En esta versión 0,3, el servidor de lenguaje incluido en el kit de desarrollo de Quantum no admite varias áreas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="d395c-130">For this 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
<span data-ttu-id="d395c-131">Para trabajar con un proyecto en VS Code, abra la carpeta raíz que contiene el proyecto en sí y todos los proyectos a los que se hace referencia.</span><span class="sxs-lookup"><span data-stu-id="d395c-131">In order to work with a project in VS Code, open the root folder containing the project itself and all referenced projects.</span></span>
<span data-ttu-id="d395c-132">Para trabajar con una solución en Visual Studio, todos los proyectos contenidos en la solución deben estar en la misma carpeta que la solución o en una de sus subcarpetas.</span><span class="sxs-lookup"><span data-stu-id="d395c-132">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>

## <a name="language-features"></a><span data-ttu-id="d395c-133">Características del lenguaje</span><span class="sxs-lookup"><span data-stu-id="d395c-133">Language Features</span></span>

<span data-ttu-id="d395c-134">En cuanto a las características del lenguaje, esta actualización unifica el tratamiento de un intervalo de patrones de lenguaje.</span><span class="sxs-lookup"><span data-stu-id="d395c-134">In terms of language features, this update unifies the treatment of a range of language patterns.</span></span>
<span data-ttu-id="d395c-135">Los constructores de tipos, como ejemplo, se generan para cada tipo definido por el usuario y se pueden aplicar parcialmente como cualquier otra función.</span><span class="sxs-lookup"><span data-stu-id="d395c-135">Type constructors, as an example, are generated for each user defined type and can be partially applied much like any other function.</span></span>
<span data-ttu-id="d395c-136">Otro ejemplo es la desconstrucción de tupla, que ahora es totalmente compatible dentro de todas las asignaciones.</span><span class="sxs-lookup"><span data-stu-id="d395c-136">Another example is tuple deconstruction, which is now fully supported within all assignments.</span></span> <span data-ttu-id="d395c-137">Esto incluye no solo Let-, mutable-y set-statements, sino también la variable de iteración en bucles for, así como las asignaciones de uso y de préstamos.</span><span class="sxs-lookup"><span data-stu-id="d395c-137">This includes not only let-, mutable-, and set-statements, but also the iteration variable in for-loops as well as using- and borrowing-allocations.</span></span> <span data-ttu-id="d395c-138">Además, las desconstrucciones parciales se admiten recientemente con la actualización 0,3. los guiones bajos en las desconstrucciones indican partes del valor que se van a omitir.</span><span class="sxs-lookup"><span data-stu-id="d395c-138">Additionally, partial deconstructions are newly supported with the 0.3 update; underscores in deconstructions indicate parts of the value that are to be ignored.</span></span> 

<span data-ttu-id="d395c-139">En el código siguiente se muestran algunas de las nuevas características:</span><span class="sxs-lookup"><span data-stu-id="d395c-139">The following code illustrates some of the new features:</span></span>
```qsharp
    let tuples = [(1, 0), (0, 1)];
    mutable res = (0, 0, 0);

    // For-loops can iterate over arrays, and can destructure tuples.
    for ((i1, i2) in tuples) {

        // Mutable assignments can now destructure and ignore parts of tuples,
        // using the same syntax as let-bindings.
        mutable (r1, r2, _) = res;
        set (r1, r2) = (r1 ||| i1, r2 &&& i2);

        let (_, _, s) = res;
        // The new conditional operator can be used inside expressions, avoiding
        // the need for extraneous if-statements.
        set res = (r1, r2, r1 == r2 ? s | s + 1);
    }
```
<span data-ttu-id="d395c-140">La última instrucción set usa un nuevo operador ternario que se introduce con la actualización 0,3 para admitir expresiones condicionales.</span><span class="sxs-lookup"><span data-stu-id="d395c-140">The last set statement uses a new ternary operator that is introduced with the 0.3 update to support conditional expressions.</span></span>
<span data-ttu-id="d395c-141">Una expresión condicional es una expresión con el formato `condition ? caseTrue | caseFalse`.</span><span class="sxs-lookup"><span data-stu-id="d395c-141">A conditional expression is an expression of the form `condition ? caseTrue | caseFalse`.</span></span>
<span data-ttu-id="d395c-142">Como se puede observar en el ejemplo anterior, ahora también se admite la iteración sobre matrices.</span><span class="sxs-lookup"><span data-stu-id="d395c-142">As can be seen from the example above, iteration over arrays is now also supported.</span></span>

<span data-ttu-id="d395c-143">Las asignaciones dentro de `using` y `borrowing` son posibles para una sola qubits, matrices qubit y tuplas anidadas:</span><span class="sxs-lookup"><span data-stu-id="d395c-143">Allocations within `using` and `borrowing` are newly possible for single qubits, qubit arrays, and nested tuples thereof:</span></span>
```qsharp
    using (qubit = Qubit()) {
        // qubit contains a single qubit
    }

    borrowing ((qubits, qubit) = (Qubit[3], Qubit())) {
        // qubits contains an array of three qubits, and qubit contains a single qubit
    }
```

<span data-ttu-id="d395c-144">Dos nuevas directivas de generación de especializaciones `invert` y `distribute` además de `auto` se introducen para aumentar el control sobre cómo se generan las especializaciones de funcción.</span><span class="sxs-lookup"><span data-stu-id="d395c-144">Two new specialization generator directives `invert` and `distribute` in addition to `auto` are introduced to increase control over how functor specializations are generated.</span></span>
<span data-ttu-id="d395c-145">Una declaración explícita de la especialización `body` predeterminada dentro de las operaciones ya no es obligatoria.</span><span class="sxs-lookup"><span data-stu-id="d395c-145">An explicit declaration of the default `body` specialization within operations is no longer mandatory.</span></span>
<span data-ttu-id="d395c-146">De forma similar a las funciones, las instrucciones se pueden agregar directamente a la propia declaración de operación si no se declara ninguna otra especialización dentro de la operación.</span><span class="sxs-lookup"><span data-stu-id="d395c-146">Similar to functions, statements may be directly added to the operation declaration itself if no other specialization is declared within the operation.</span></span>
<span data-ttu-id="d395c-147">Se incluye un script de migración en la versión de para ayudar a migrar el código existente y aprovechar las nuevas características del lenguaje (consulte la [sección sobre el script de migración](#MigrationScript)).</span><span class="sxs-lookup"><span data-stu-id="d395c-147">A migration script is included in the release to help migrating existing code and taking advantage of new language features (see the [section on the migration script](#MigrationScript)).</span></span>

<span data-ttu-id="d395c-148">Se trata de un cambio importante en la forma en que se tratan los tipos definidos por el usuario con la actualización 0,3.</span><span class="sxs-lookup"><span data-stu-id="d395c-148">A major change in how user-defined types are treated comes with the 0.3 update.</span></span> <span data-ttu-id="d395c-149">Mientras que las versiones anteriores trataban los tipos definidos por el usuario como subtipos de su tipo subyacente, ya no es el caso en avanzar (vea también la [sección sobre cambios importantes](#BreakingChanges)).</span><span class="sxs-lookup"><span data-stu-id="d395c-149">While prior releases treated user defined types as subtypes of their underlying type, this is no longer the case going forward (see also the [section on breaking changes](#BreakingChanges)).</span></span>  
<span data-ttu-id="d395c-150">Como parte de este cambio, se introducen modificadores de expresión que se pueden aplicar a determinadas expresiones.</span><span class="sxs-lookup"><span data-stu-id="d395c-150">As part of this change we introduce expression modifiers that can be applied to certain expressions.</span></span> <span data-ttu-id="d395c-151">Las expresiones "atómicas" a las que se pueden aplicar modificadores son los identificadores, las expresiones de elementos de matriz y las tuplas aridad-1.</span><span class="sxs-lookup"><span data-stu-id="d395c-151">The "atomic" expressions that modifiers can be applied to are identifiers, array item expressions, and arity-1 tuples.</span></span>
<span data-ttu-id="d395c-152">Los modificadores se enlazan de forma más estrecha que cualquier otro combinador de expresión y, en particular, más estrecho que los `(` `)`.</span><span class="sxs-lookup"><span data-stu-id="d395c-152">Modifiers bind tighter than any other expression combinator, and in particular tighter than the call-expression combinator `(` `)`.</span></span> 
<span data-ttu-id="d395c-153">`Adjoint`, `Controlled`y un nuevo operador postfijo ' Unwrap ' `!` se tratan como modificadores de expresión.</span><span class="sxs-lookup"><span data-stu-id="d395c-153">`Adjoint`, `Controlled`, and a new "unwrap" postfix operator `!` are treated as expression modifiers.</span></span> <span data-ttu-id="d395c-154">Al tratar `Adjoint` y `Controlled` como modificadores de expresión, se elimina la necesidad de paréntesis en muchos casos.</span><span class="sxs-lookup"><span data-stu-id="d395c-154">Treating `Adjoint` and `Controlled` as expression modifiers eliminates the need for parenthesis for a lot of cases.</span></span> <span data-ttu-id="d395c-155">Las expresiones siguientes, por ejemplo, son válidas para `Op`, una operación de unitario `opArr` una matriz de operaciones de unitario y `arg` un argumento adecuado:</span><span class="sxs-lookup"><span data-stu-id="d395c-155">The expressions below for example are valid going forward for `Op`, a unitary operation, `opArr` an array of unitary operations, and `arg` a suitable argument:</span></span> 
```qsharp
    Adjoint Op (arg);
    Controlled opArr[i] (arg);
```
<span data-ttu-id="d395c-156">El script de migración quitará la mayoría de los paréntesis innecesarios y sacará el máximo partido de las nuevas características.</span><span class="sxs-lookup"><span data-stu-id="d395c-156">The migration script will drop most of the unnecessary parenthesis and take full advantage of the new features.</span></span> <span data-ttu-id="d395c-157">Sin embargo, tenga en cuenta que el script no interpreta el código y no tendrá en cuenta la interpretación diferente del funcnte `Controlled` en raras ocasiones (solo es pertinente en combinación con las aplicaciones parciales).</span><span class="sxs-lookup"><span data-stu-id="d395c-157">However, be advised that the script does not interpret the code, and will not account for the different interpretation of the `Controlled` functor in rare cases (only relevant in combination with partial applications).</span></span>

<span data-ttu-id="d395c-158">El nuevo modificador `!` convierte un tipo definido por el usuario en su tipo subyacente.</span><span class="sxs-lookup"><span data-stu-id="d395c-158">The new modifier `!` casts a user-defined type to its underlying type.</span></span> <span data-ttu-id="d395c-159">Esta conversión se considera una conversión en versiones anteriores y se ejecutó automáticamente.</span><span class="sxs-lookup"><span data-stu-id="d395c-159">This cast has been considered an upcast in previous releases and was executed automatically.</span></span> <span data-ttu-id="d395c-160">Con la nueva interpretación de los tipos definidos por el usuario, esto ya no es así y la conversión debe hacerse explícita.</span><span class="sxs-lookup"><span data-stu-id="d395c-160">With the new interpretation of user defined types this is no longer the case and the cast needs to be made explicit.</span></span>    
<span data-ttu-id="d395c-161">En el ejemplo siguiente se muestra cómo usar el modificador New:</span><span class="sxs-lookup"><span data-stu-id="d395c-161">The following example illustrates how to use the new modifier:</span></span> 
```qsharp
    newtype Unitary = (Qubit => Unit: Adjoint, Controlled);

    operation Foo (unitaries : Unitary[], qubit : Qubit) : Unit {

        for (unitary in unitaries[1 .. Length(unitaries)-1]) {
            // Each element of unitaries is an instance of the user-defined
            // type Unitary, so unitary! unwraps each element to an operation
            // type that we can call.
            unitary! (qubit);
            // The unwrap operator can also be used as a part of functor
            // expressions and when indexing into arrays.
            Adjoint unitary! (qubit);
            Adjoint unitaries[0]! (qubit);
        }
    }
```
<span data-ttu-id="d395c-162">Como se puede observar en el ejemplo, `!` enlaza más que los modificadores de prefijo, como `Controlled` y `Adjoint`.</span><span class="sxs-lookup"><span data-stu-id="d395c-162">As can be seen from the example, `!` binds tighter than prefix modifiers, like `Controlled` and `Adjoint`.</span></span>

## <a name="BreakingChanges"></a><span data-ttu-id="d395c-163">Cambios importantes</span><span class="sxs-lookup"><span data-stu-id="d395c-163">Breaking Changes</span></span> 

<span data-ttu-id="d395c-164">La actualización 0,3 incluye un nuevo compilador y contiene algunos cambios importantes.</span><span class="sxs-lookup"><span data-stu-id="d395c-164">The 0.3 update comes with a new compiler and contains a handful of breaking changes.</span></span>
<span data-ttu-id="d395c-165">Para facilitar la actualización del código existente, el compilador también proporciona una opción de formato que compila código válido o no válido y emite código de Q # con formato basado en la compilación compilada.</span><span class="sxs-lookup"><span data-stu-id="d395c-165">To facilitate updating existing code, the compiler also provides a formatting option that compiles valid or invalid code and emits formatted Q# code based on the built compilation.</span></span>
<span data-ttu-id="d395c-166">La herramienta proporcionada procesará automáticamente todos los cambios de sintaxis.</span><span class="sxs-lookup"><span data-stu-id="d395c-166">All syntax changes will be processed automatically by the provided tool.</span></span> <span data-ttu-id="d395c-167">Sin embargo, es posible que sea necesario realizar cambios en la interpretación del código válido (cambios semánticos) de forma manual.</span><span class="sxs-lookup"><span data-stu-id="d395c-167">However, changes in how valid code is interpreted (semantic changes) may need to be made manually.</span></span> 

<span data-ttu-id="d395c-168">Además de los cambios que se muestran a continuación, el patrón `__*__` donde \* es cualquier secuencia de caracteres que no sean espacios en blanco se reserva para uso interno y no se puede usar como nombre de símbolo.</span><span class="sxs-lookup"><span data-stu-id="d395c-168">In addition to the changes listed below, the pattern `__*__` where \* is any sequence of non-whitespace characters is reserved for internal use and cannot be used as a symbol name.</span></span>  

## <a name="syntax-changes"></a><span data-ttu-id="d395c-169">Cambios de sintaxis</span><span class="sxs-lookup"><span data-stu-id="d395c-169">Syntax Changes</span></span> 

- <span data-ttu-id="d395c-170">A partir de la versión 0,3, los elementos de matriz ya no se separan con punto y coma, sino que se separan mediante comas.</span><span class="sxs-lookup"><span data-stu-id="d395c-170">Starting with the version 0.3, array items are no longer separated by semicolons, but are separated by commas instead.</span></span>
- <span data-ttu-id="d395c-171">Por otro lado, se requiere un punto y coma después de una directiva de generación automática para las declaraciones de especialización.</span><span class="sxs-lookup"><span data-stu-id="d395c-171">A semicolon on the other hand is required after an auto-generation directive for specialization declarations.</span></span>
- <span data-ttu-id="d395c-172">Las condiciones de las cláusulas IF-, Elif-y Until deben encapsularse entre paréntesis.</span><span class="sxs-lookup"><span data-stu-id="d395c-172">Conditions in if-, elif-, and until-clauses need to be encapsulated in parenthesis.</span></span> 

<span data-ttu-id="d395c-173">Para todos los demás cambios de sintaxis, el compilador simplemente generará una advertencia si se usa la sintaxis anterior.</span><span class="sxs-lookup"><span data-stu-id="d395c-173">For all other syntax changes the compiler will simply generate a warning if the old syntax is used.</span></span>     
<span data-ttu-id="d395c-174">Un ejemplo de este tipo de cambio es la tupla de símbolos en las especializaciones definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="d395c-174">One example for such a change is the symbol tuple in user-defined specializations.</span></span> <span data-ttu-id="d395c-175">Mientras que en las versiones anteriores, una declaración de especialización controlada o controlada por se especificaba un único argumento de símbolo, a partir de 0,3 se recomienda proporcionar una tupla de símbolos para todas las especializaciones con `...` que indique que el compilador debe migrar los símbolos de la declaración a la que se puede llamar si es necesario.</span><span class="sxs-lookup"><span data-stu-id="d395c-175">While in previous releases a controlled or controlled-adjoint specialization declaration specified a single symbol argument, starting in 0.3 it is encouraged to provide such a symbol tuple for all specialization with `...` indicating that the compiler should migrate the symbols from the callable declaration if needed.</span></span> 

## <a name="semantic-changes"></a><span data-ttu-id="d395c-176">Cambios semánticos</span><span class="sxs-lookup"><span data-stu-id="d395c-176">Semantic Changes</span></span> 

<span data-ttu-id="d395c-177">La interrupción más impactante de la versión 0,3 es la forma en que los tipos definidos por el usuario se integran en el sistema de tipos.</span><span class="sxs-lookup"><span data-stu-id="d395c-177">The most impactful breaking for the 0.3 release is how user-defined types are integrated into the type system.</span></span> <span data-ttu-id="d395c-178">En versiones anteriores, los tipos definidos por el usuario se consideraban un subtipo de su tipo subyacente.</span><span class="sxs-lookup"><span data-stu-id="d395c-178">In prior releases user defined types were considered to be a subtype of their underlying type.</span></span> <span data-ttu-id="d395c-179">Con esta versión, esto ya no es así.</span><span class="sxs-lookup"><span data-stu-id="d395c-179">With this release and going forward this is no longer the case.</span></span> <span data-ttu-id="d395c-180">Los tipos definidos por el usuario ahora se consideran su propio tipo distinto y no existe ninguna conversión automática entre un tipo definido por el usuario y su tipo subyacente.</span><span class="sxs-lookup"><span data-stu-id="d395c-180">User defined types are now considered to be their own distinct type, and no automatic cast between a user defined type and its underlying type exists.</span></span> <span data-ttu-id="d395c-181">Todas las conversiones deben ser explícitas a través de un operador "Unwrap" `!`y se necesita una conversión en particular para tener acceso al contenido de un objeto de tipo definido por el usuario.</span><span class="sxs-lookup"><span data-stu-id="d395c-181">All casts need to be made explicit via an "unwrap" operator `!`, and a cast is needed in particular to access the content of a object of user defined type.</span></span>  

<span data-ttu-id="d395c-182">Las modificaciones en el sistema de tipos también incluyen el comportamiento de la varianza de las matrices y el tratamiento de los objetos con parámetros de tipo.</span><span class="sxs-lookup"><span data-stu-id="d395c-182">The modifications to the type system also include the variance behavior of arrays, and the treatment of type parameterized objects.</span></span> <span data-ttu-id="d395c-183">A partir de 0,3, las matrices mutables e inmutables son invariables.</span><span class="sxs-lookup"><span data-stu-id="d395c-183">Starting in 0.3, both mutable and immutable arrays are invariant.</span></span> <span data-ttu-id="d395c-184">Además, los argumentos pasados a una invocable no pueden tener parámetros de tipo.</span><span class="sxs-lookup"><span data-stu-id="d395c-184">Additionally, arguments passed to a callable cannot be type parameterized.</span></span> <span data-ttu-id="d395c-185">En estos casos, los argumentos de tipo se deben pasar junto con el identificador.</span><span class="sxs-lookup"><span data-stu-id="d395c-185">In these cases, type arguments must be passed along with the identifer.</span></span>

<span data-ttu-id="d395c-186">Las versiones anteriores del compilador de Q # permitían que se proporcionase un valor de función en el que se esperaba un valor de operación, siempre que el valor de la función tuviera los tipos de entrada y salida correctos.</span><span class="sxs-lookup"><span data-stu-id="d395c-186">Previous releases of the Q# compiler allowed a function value to be provided where an operation value was expected, as long as the function value had the correct input and output types.</span></span> <span data-ttu-id="d395c-187">Se trata de un comportamiento no deseado que no se especifica en la especificación del lenguaje Q #.</span><span class="sxs-lookup"><span data-stu-id="d395c-187">This was unintended behavior that is not specified in the Q# language specification.</span></span>
<span data-ttu-id="d395c-188">En el compilador 0,3, hemos quitado este comportamiento para que los valores de función ya no se consideren valores de operación.</span><span class="sxs-lookup"><span data-stu-id="d395c-188">In the 0.3 compiler, we have removed this behavior so that function values are no longer considered operation values.</span></span>
<span data-ttu-id="d395c-189">Para minimizar la interrupción del código existente que basó este error, hemos agregado la función ToOperation en el espacio de nombres Microsoft. Quantum. Canon que convertirá explícitamente una función en una operación con los mismos tipos de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="d395c-189">To minimize the disruption to existing code that relied on this bug, we have added the ToOperation function in the Microsoft.Quantum.Canon namespace that will explicitly convert a function into an operation with the same input and output types.</span></span>

<span data-ttu-id="d395c-190">En el ejemplo siguiente se muestra cómo utilizar la función `ToOperation` para cambiar una función `Square` a una operación `op`:</span><span class="sxs-lookup"><span data-stu-id="d395c-190">The following example illustrates how to use the `ToOperation` function to change a function `Square` to an operation `op`:</span></span> 
```qsharp
namespace Microsoft.Quantum.Tests {
    open Microsoft.Quantum.Primitive;
    open Microsoft.Quantum.Canon;

    function Square(x : Int) : Int {
        return x * x;
    }

    operation ApplyOp<'T, 'U>(op : ('T => 'U), input : 'T) : 'U {
        return op(input);
    }

    operation ToOperationTest() : Unit {
        let op = ToOperation(Square);
        AssertIntEqual(ApplyOp(op, 3), 9, "ToOperation failed with Square.");
    }
}
```

## <a name="requirements"></a><span data-ttu-id="d395c-191">Requisitos</span><span class="sxs-lookup"><span data-stu-id="d395c-191">Requirements</span></span> 

<span data-ttu-id="d395c-192">La versión es compatible con la versión 15,8 de Visual Studio 2017 o posterior para Windows 10, y en Visual Studio Code versión 1.27.2 o posterior para Windows 10, macOS y Linux.</span><span class="sxs-lookup"><span data-stu-id="d395c-192">The release is supported on Visual Studio 2017 version 15.8 or later for Windows 10, and on Visual Studio Code version 1.27.2 or later for Windows 10, macOS, and Linux.</span></span>

<span data-ttu-id="d395c-193">El kit de desarrollo de Quantum usa el SDK de .NET Core (2,0 o posterior).</span><span class="sxs-lookup"><span data-stu-id="d395c-193">The Quantum Development Kit uses the .NET Core SDK (2.0 or later).</span></span>

## <a name="installation"></a><span data-ttu-id="d395c-194">Instalación</span><span class="sxs-lookup"><span data-stu-id="d395c-194">Installation</span></span>  

<span data-ttu-id="d395c-195">Siga las instrucciones de instalación que se indican [aquí](../install-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="d395c-195">Follow the installation instructions [here](../install-guide/index.md).</span></span>

<span data-ttu-id="d395c-196">Es posible que vea Advertencias ("se encontraron conflictos entre diferentes versiones de" System. Reflection. Metadata "que no se pudieron resolver") si la versión actual de SDK de .NET Core no está actualizada.</span><span class="sxs-lookup"><span data-stu-id="d395c-196">You may see warnings ("Found conflicts between different versions of "System.Reflection.Metadata" that could not be resolved.") if your current version of .NET Core SDK is not up to date.</span></span>  <span data-ttu-id="d395c-197">Sin embargo, si usa SDK de .NET Core (2,0 o posterior), estas advertencias se pueden omitir.</span><span class="sxs-lookup"><span data-stu-id="d395c-197">However, if you are using .NET Core SDK (2.0 or later), these warnings may be ignored.</span></span>


- <span data-ttu-id="d395c-198">La versión se proporciona junto con una serie de ejemplos diferentes que muestran cómo usar las dos características existentes del kit de desarrollo de Quantum y las nuevas características disponibles en esta versión.</span><span class="sxs-lookup"><span data-stu-id="d395c-198">The release is provided along with a number of different samples showing how to use both existing features of the Quantum Development Kit, and the new features available with this release.</span></span> <span data-ttu-id="d395c-199">Estos ejemplos se pueden encontrar en GitHub en el repositorio [Microsoft/Quantum](https://github.com/Microsoft/Quantum) .</span><span class="sxs-lookup"><span data-stu-id="d395c-199">These samples can be can be found on GitHub at the [Microsoft/Quantum](https://github.com/Microsoft/Quantum) repository.</span></span>


## <a name="Migration"></a><span data-ttu-id="d395c-200">Migración de proyectos existentes a Q # 0,3</span><span class="sxs-lookup"><span data-stu-id="d395c-200">Migrating Existing Projects to Q# 0.3</span></span> 

<span data-ttu-id="d395c-201">Si ya tiene proyectos de preguntas y respuestas de la versión 0,2 del kit de desarrollo de Quantum, estos son los pasos para migrar esos proyectos a la versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="d395c-201">If you have existing Q# projects from version 0.2 of the Quantum Development Kit, the following are the steps to migrate those projects to the newest version.</span></span> <span data-ttu-id="d395c-202">También proporcionamos un [script de migración](#MigrationScript) para ayudarle con el proceso.</span><span class="sxs-lookup"><span data-stu-id="d395c-202">We also provide a [migration script](#MigrationScript) to help you with the process.</span></span>

> [!NOTE]
> <span data-ttu-id="d395c-203">Los proyectos deben actualizarse en orden.</span><span class="sxs-lookup"><span data-stu-id="d395c-203">Projects need to be upgraded in order.</span></span> <span data-ttu-id="d395c-204">Si tiene una solución con varios proyectos, actualice cada proyecto en el orden en el que se hace referencia a ellos.</span><span class="sxs-lookup"><span data-stu-id="d395c-204">If you have a solution with multiple projects update each project in the order they are referenced.</span></span>


1. <span data-ttu-id="d395c-205">En una línea de comandos, ejecute `dotnet clean` para quitar todos los archivos binarios y los archivos intermedios existentes.</span><span class="sxs-lookup"><span data-stu-id="d395c-205">From a command line, Run `dotnet clean` to remove all existing binaries and intermediate files.</span></span>
2. <span data-ttu-id="d395c-206">En un editor de texto, edite el archivo. csproj para cambiar la versión de todos los `PackageReference` "Microsoft. Quantum" a la versión 0.3.1811.2802-Preview, por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="d395c-206">In a text editor, edit the .csproj file to change the version of all the "Microsoft.Quantum" `PackageReference` to version 0.3.1811.2802-preview, for example:</span></span>
```xml
    <PackageReference Include="Microsoft.Quantum.Canon" Version="0.3.1811.2802" />
    <PackageReference Include="Microsoft.Quantum.Development.Kit" Version="0.3.1811.2802" />
```
4. <span data-ttu-id="d395c-207">Desde la línea de comandos, use la herramienta de formato integrada en el compilador de línea de comandos para abordar todos los cambios de sintaxis mediante la ejecución de este comando: `dotnet msbuild /t:qsharpformat`</span><span class="sxs-lookup"><span data-stu-id="d395c-207">From the command line, use the formatting tool integrated into the command line compiler to address all syntax changes by running this command: `dotnet msbuild /t:qsharpformat`</span></span>  
    - <span data-ttu-id="d395c-208">Los archivos se migrarán en contexto.</span><span class="sxs-lookup"><span data-stu-id="d395c-208">Your files will be migrated in-place.</span></span> <span data-ttu-id="d395c-209">Se copiará una copia de seguridad de todos los archivos originales en `obj\qsharp\.backup`</span><span class="sxs-lookup"><span data-stu-id="d395c-209">A backup of all the original files will be copied to `obj\qsharp\.backup`</span></span>
    - <span data-ttu-id="d395c-210">La herramienta de formato compilará el proyecto y omitirá todos los errores de compilación y generará código de Q # con formato basado en la compilación de compilación.</span><span class="sxs-lookup"><span data-stu-id="d395c-210">The formatting tool will compile the project ignoring all compilation errors and generate formatted Q# code based on the build compilation.</span></span> 
       <span data-ttu-id="d395c-211">Cualquier símbolo no reconocido (por ejemplo, un nombre de variable sin definir) se reemplazará por un texto de marcador de posición que deba reemplazarse manualmente después de aplicar el formato.</span><span class="sxs-lookup"><span data-stu-id="d395c-211">Any unrecognized symbol (e.g. an undefined variable name) will be replaced by a placeholder text that needs to be replaced manually after formatting.</span></span> <span data-ttu-id="d395c-212">En este caso, el formato se realiza correctamente mientras se genera una advertencia para el archivo afectado.</span><span class="sxs-lookup"><span data-stu-id="d395c-212">In this case, the formatting succeeds while generating a warning for the affected file.</span></span>     
    - <span data-ttu-id="d395c-213">El formato y, en particular, cualquier espacio en blanco del archivo se cambiará en el código emitido.</span><span class="sxs-lookup"><span data-stu-id="d395c-213">The formatting and in particular any white space in the file will be changed in the emitted code.</span></span> <span data-ttu-id="d395c-214">Se conservarán los comentarios.</span><span class="sxs-lookup"><span data-stu-id="d395c-214">Comments will be preserved.</span></span>   
5. <span data-ttu-id="d395c-215">Después de ejecutarlo, es posible que tenga que solucionar manualmente los cambios semánticos en los casos en los que la interpretación semántica del código ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="d395c-215">After running this, you might still need to manually address semantic changes in cases where the semantic interpretation of the code has changed.</span></span> <span data-ttu-id="d395c-216">IntelliSense devolverá todos estos errores en Visual Studio o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d395c-216">All these errors will be reported by IntelliSense in Visual Studio or Visual Studio Code.</span></span>
    - <span data-ttu-id="d395c-217">Abra la carpeta raíz del proyecto o la solución que lo contiene en Visual Studio 2017 o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="d395c-217">Open the root folder of the project or the containing solution in Visual Studio 2017 or Visual Studio Code.</span></span>
    - <span data-ttu-id="d395c-218">Después de abrir un archivo .qs en el editor, verá el resultado de la extensión del lenguaje Q# en la ventana de salida.</span><span class="sxs-lookup"><span data-stu-id="d395c-218">After opening a .qs file in the editor, you should see the output of the Q# language extension in the output window.</span></span>
    - <span data-ttu-id="d395c-219">Una vez que el proyecto se ha cargado correctamente (loq ue se indica en la ventana de salida), abra cada archivo y solucione manualmente todos los problemas que queden.</span><span class="sxs-lookup"><span data-stu-id="d395c-219">After the project has loaded successfully (indicated in the output window) open each file and manually to address all remaining issues.</span></span>


> [!NOTE]
> * <span data-ttu-id="d395c-220">En el caso de la versión 0,3, el servidor de lenguaje incluido en el kit de desarrollo de Quantum no admite varias áreas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="d395c-220">For the 0.3 release, the language server included with the Quantum Development Kit does not support multiple workspaces.</span></span>
> * <span data-ttu-id="d395c-221">Para trabajar con un proyecto en Visual Studio Code, abra la carpeta raíz que contiene el proyecto y todos los proyectos a los que se hace referencia.</span><span class="sxs-lookup"><span data-stu-id="d395c-221">In order to work with a project in Visual Studio Code, open the root folder containing the project itself and all referenced projects.</span></span>   
> * <span data-ttu-id="d395c-222">Para trabajar con una solución en Visual Studio, todos los proyectos contenidos en la solución deben estar en la misma carpeta que la solución o en una de sus subcarpetas.</span><span class="sxs-lookup"><span data-stu-id="d395c-222">In order to work with a solution in Visual Studio, all projects contained in the solution need to be in the same folder as the solution or in one of its subfolders.</span></span>  
> * <span data-ttu-id="d395c-223">**No** se admiten las referencias entre los proyectos migrados a 0,3 y posteriores, y los proyectos que usan versiones anteriores de paquetes.</span><span class="sxs-lookup"><span data-stu-id="d395c-223">References between projects migrated to 0.3 and higher and projects using older package versions are **not** supported.</span></span>




## <a name="MigrationScript"></a><span data-ttu-id="d395c-224">Script de migración</span><span class="sxs-lookup"><span data-stu-id="d395c-224">Migration script</span></span> 

<span data-ttu-id="d395c-225">Para facilitar la migración del proyecto, se proporciona un script de PowerShell que se puede descargar [aquí](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span><span class="sxs-lookup"><span data-stu-id="d395c-225">In order to facilitate project migration, a PowerShell script is provided that can be downloaded [here](https://raw.githubusercontent.com/Microsoft/Quantum/release/v0.3.1810/utilities/qdk-migrate.ps1).</span></span>
<span data-ttu-id="d395c-226">Este script ayuda a migrar proyectos de la versión 0,2 del kit de desarrollo de Quantum para usar la versión 0,3.</span><span class="sxs-lookup"><span data-stu-id="d395c-226">This script helps migrate projects from version 0.2 of the Quantum Development Kit to use version 0.3.</span></span>

> [!NOTE]
> <span data-ttu-id="d395c-227">El script de migración requiere Windows PowerShell o PowerShell Core para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="d395c-227">The migration script requires Windows PowerShell or PowerShell Core to run.</span></span>
> <span data-ttu-id="d395c-228">Windows PowerShell viene preinstalado con Windows 10.</span><span class="sxs-lookup"><span data-stu-id="d395c-228">Windows PowerShell comes pre-installed with Windows 10.</span></span>
> <span data-ttu-id="d395c-229">Descargue PowerShell Core para Windows, macOS o Linux en https://github.com/PowerShell/PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d395c-229">Download PowerShell Core for Windows, macOS, or Linux at https://github.com/PowerShell/PowerShell.</span></span>

<span data-ttu-id="d395c-230">El script ejecuta los cuatro pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="d395c-230">The script executes the following four steps:</span></span>

- <span data-ttu-id="d395c-231">El proyecto se compila con la versión anterior del kit de desarrollo de Quantum para asegurarse de que es probable que la migración se realice correctamente.</span><span class="sxs-lookup"><span data-stu-id="d395c-231">The project is built with the previous version of the Quantum Development Kit to ensure that migration is likely to succeed.</span></span> <span data-ttu-id="d395c-232">Este paso se puede omitir mediante el parámetro `-Force` en el script.</span><span class="sxs-lookup"><span data-stu-id="d395c-232">This step can be skipped by using the `-Force` parameter to the script.</span></span>
- <span data-ttu-id="d395c-233">Se instalan las nuevas plantillas de proyecto.</span><span class="sxs-lookup"><span data-stu-id="d395c-233">New project templates are installed.</span></span>
- <span data-ttu-id="d395c-234">El proyecto se actualiza para usar la versión actual del kit de desarrollo de Quantum.</span><span class="sxs-lookup"><span data-stu-id="d395c-234">The project is updated to use the current version of the Quantum Development Kit.</span></span>
- <span data-ttu-id="d395c-235">La herramienta de formato que se proporciona con la versión 0,3 del kit de desarrollo de Quantum se aplica para abordar automáticamente la mayoría de los cambios importantes documentados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d395c-235">The formatting tool provided with version 0.3 of the Quantum Development Kit is applied to automatically address most of the breaking changes documented above.</span></span>

<span data-ttu-id="d395c-236">Una vez que se hayan completado estos cuatro pasos, es posible que haya algunos problemas de migración que se deben controlar manualmente.</span><span class="sxs-lookup"><span data-stu-id="d395c-236">After these four steps complete, there may be some remaining migration issues which must be handled manually.</span></span>
<span data-ttu-id="d395c-237">El uso de la versión más reciente de las extensiones del kit de desarrollo de Quantum para Visual Studio 2017 y Visual Studio Code puede ayudar a encontrar estos problemas fácilmente.</span><span class="sxs-lookup"><span data-stu-id="d395c-237">Using the latest version of the Quantum Development Kit extensions for Visual Studio 2017 and Visual Studio Code can help find these issues easily.</span></span>

<span data-ttu-id="d395c-238">La documentación del script puede obtenerse mediante la ejecución de uno de los siguientes comandos en la carpeta en la que se encuentra el script:</span><span class="sxs-lookup"><span data-stu-id="d395c-238">The documentation for the script can be obtained by running one of the following commands in the folder where the script is located:</span></span>

```powershell
Get-Help ./qdk-migrate.ps1
Get-Help -Online ./qdk-migrate.ps1
```

> [!NOTE]
> <span data-ttu-id="d395c-239">De forma predeterminada, Windows impide la ejecución de scripts como medida de seguridad.</span><span class="sxs-lookup"><span data-stu-id="d395c-239">By default, Windows prevents the execution of any scripts as a security measure.</span></span>
> <span data-ttu-id="d395c-240">Para permitir que los scripts como `qdk-migrate.ps1` se ejecuten en Windows, es posible que deba cambiar la Directiva de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d395c-240">To allow scripts such as `qdk-migrate.ps1` to run on Windows, you may need to change the execution policy.</span></span>
> <span data-ttu-id="d395c-241">Para ello, ejecute el comando `Set-ExecutionPolicy`:</span><span class="sxs-lookup"><span data-stu-id="d395c-241">To do so, run the `Set-ExecutionPolicy` command:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope Process
> ```
> <span data-ttu-id="d395c-242">La Directiva de ejecución se revertirá al salir de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d395c-242">The execution policy will then be reverted when you exit PowerShell.</span></span>
> <span data-ttu-id="d395c-243">Si desea guardar la Directiva de ejecución, use un valor diferente para `-Scope`:</span><span class="sxs-lookup"><span data-stu-id="d395c-243">If you would like to save the execution policy, use a different value for `-Scope`:</span></span>
> ```powershell
> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
> ```

